"use strict";(self.webpackChunkmongo_express=self.webpackChunkmongo_express||[]).push([[60],{567:function(e,n,t){var o=t(692);const a=(0,t(270).A)(document.querySelector("#document"),{readOnly:ME_SETTINGS.readOnly});window.onBackClick=function(){return a.isClean()?window.history.back():0===o("#discardChanges").length?(o("#pageTitle").parent().append('<div id="discardChanges" class="alert alert-warning"><strong>Document has changed! Are you sure you wish to go back?</strong></div>'),o(".backButton").text("Back & Discard Changes")):window.history.back(),!1},window.onSubmitClick=function(){o("#discardChanges").remove();const e=document.getElementsByName("_csrf")[0].value;return o.ajax({type:"POST",url:`${ME_SETTINGS.baseHref}checkValid`,data:{document:a.getValue()},beforeSend:n=>n.setRequestHeader("X-CSRF-TOKEN",e)}).done((e=>{"Valid"===e?(o("#documentInvalidJSON").remove(),o("#documentEditForm").submit()):0===o("#documentInvalidJSON").length&&o("#pageTitle").parent().append('<div id="documentInvalidJSON" class="alert alert-danger"><strong>Invalid JSON</strong></div>')})),!1},o((()=>{o(".deleteButtonDocument").on("click",(function(e){const n=o(this).closest("form");e.stopPropagation(),e.preventDefault(),ME_SETTINGS.confirmDelete?o("#confirm-document-delete").modal({backdrop:"static",keyboard:!1}).one("click","#delete",(function(){n.trigger("submit")})):n.trigger("submit")}))}))}},function(e){e.O(0,[213],(function(){return e(e.s=567)})),e.O()}]);